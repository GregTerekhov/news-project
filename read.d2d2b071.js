var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,a.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a);var r=a("3huUq");let o=[];document.querySelector(".js-haveread");const i=document.querySelector(".accordion-list");function s(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){console.log(e)}}function l(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){console.log(e)}}i.addEventListener("click",(function(e){if(!e.target.hasAttribute("data-info"))return;const t=function(e){try{return JSON.parse(e)}catch(e){console.log(e)}}(e.target.dataset.favorite),n=s("FAVORITES");if(e.target.classList.contains("js-favorites")){if(e.target.textContent="Add to favorites",e.target.classList.remove("js-favorites"),!n)return void console.log("News isn't in favorites");const a=n.find(((e,n)=>{if(e.link===t.link)return n}));return n.splice(a,1),0===n.length?void localStorage.removeItem("FAVORITES"):void l("FAVORITES",n)}if(e.target.textContent="Remove from favorites",e.target.classList.add("js-favorites"),n){if(n.some((e=>e.link===t.link)))return void console.log("It's allredy in Favorites");o=[...n]}o.push(t),l("FAVORITES",o),o=[]})),function(e){const t=s(e);if(!t||0===t.length)return alert("Добавьте страницу заглушку пожалуйста. Файл read.js, 78-строка"),void(0,r.getNoFound)();n=t,n.forEach((e=>{const t=`<li class="accordion-list_item">\n                <div class="accordion-title_wrapper">\n                    <p class="accordion-list_title">\n                        ${e.whenRead}\n                    </p>\n                    <div class="accordion-arrow__wraper">\n                        <svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M1.7625 9L-3.18545e-07 7.28745L7.5 3.27835e-07L15 7.28745L13.2375 9L7.5 3.43725L1.7625 9Z" fill="#111321"/>\n                        </svg>\n                    </div>\n                </div>\n                <div class="accordion-list_panel"></div>\n            </li>`;i.insertAdjacentHTML("beforeend",t),document.querySelector(".accordion-list_panel").innerHTML=e.newsArray.map((e=>{const{title:t,category:n,date:a,link:r,description:o,imageURL:i}=e,l=JSON.stringify(e);let c=function(e,t){if(e&&0!==e.length)return e.some((e=>e.link===t))?{class:"js-favorites",addRemove:"Remove from favorites"}:{class:"zaglushka",addRemove:"Add to favourites"}}(s("FAVORITES"),r);return c||(c={class:"zaglushka",addRemove:"Add to favourites"}),`<li class="markup-unit markup-unit__read" name="card">\n    <p class="markup-unit__section">${n}</p>\n    \n    <img \n        class="markup-unit__card-image" \n        src="${i}" \n        alt="placeholder"\n        />\n    <button \n        class="markup-unit__add-favorite js-fbutton ${c.class}" \n        type="button" \n        data-info\n        data-favorite='${l}'\n        data-id='${r}'\n      >\n      <p \n        class="markup-unit__favorite-text js-fbutton"\n        data-favorite='${l}'\n        style="pointer-events: none;"\n      >\n          ${c.addRemove}\n      </p>\n      <svg \n          data-favorite='${l}'  \n          class="markup-unit__favorite-icon markup-unit__favorite-icon--active js-fbutton" \n          width="15" \n          height="15" \n          viewBox="0 0 37 32"\n          style="pointer-events: none;"\n        >\n        <path style="stroke: var(--color1, #4440f7)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="4" stroke-width="2.2857" d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"></path>\n      </svg>\n    </button>\n    <h2 class="markup-unit__card-header" name="card_header">\n        ${t}\n    </h2>\n    <p class="markup-unit__card-text" name="card_text">\n        ${o}\n    </p>\n    <div class="markup-unit__card-footer">\n        <p class="markup-unit__card-date">${a}</p>\n      <a \n        class="markup-unit__read-more" \n        href="${r}" \n        name="read_more"\n        data-favorite='${l}'\n      >\n          Read more\n      </a>\n    </div>\n    </li>`})).join(" ")}));var n}("HAVE_READ");
//# sourceMappingURL=read.d2d2b071.js.map
