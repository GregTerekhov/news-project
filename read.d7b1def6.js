const e={READ_URL_KEY:"READ_URL",FAVORITES_KEY:"FAVORITES",bodyContainerEl:document.querySelector(".js-body-container"),switcher:document.querySelectorAll(".toggle-mode__checkbox"),switchSlider:document.querySelectorAll(".toggle-mode__slider"),body:document.querySelector("body"),footer:document.querySelector(".footer"),darkText:document.querySelectorAll(".toggle-mode__dark"),lightText:document.querySelectorAll(".toggle-mode__light"),articles:document.querySelector(".articles"),categories:document.querySelector(".categories"),date:document.querySelector("#input-picker")};function t(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){console.log(e)}}(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu"),o=document.querySelector(".toggle-mode"),a=()=>{const n="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!n),e.classList.toggle("is-open"),document.body.classList.toggle("_lock"),o.classList.contains("mobile")?o.classList.remove("mobile"):o.classList.contains("mobile")||o.classList.add("mobile")};t.addEventListener("click",a),n.addEventListener("click",a),window.matchMedia("(min-width: 768px)").addEventListener("change",(n=>{n.matches&&(document.body.classList.remove("_lock"),e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1))}))})();let n=localStorage.getItem("darkMode");!function(){if(n){for(let t=0;t<e.switcher.length;t+=1)e.switcher[t].checked=!0;e.footer.classList.add("darkmode-footer")}}();for(let t=0;t<e.switcher.length;t+=1)e.switcher[t].addEventListener("click",a),e.switcher[t].addEventListener("click",o,{once:!0});function o(){e.body.style.transition="1s"}function a(){if(n=localStorage.getItem("darkMode"),!n)return!0!==e.switcher[0].checked?e.switcher[0].checked=!0:!0!==e.switcher[1].checked&&(e.switcher[1].checked=!0),e.body.classList.add("darkmode"),e.footer.classList.add("darkmode-footer"),void localStorage.setItem("darkMode",!0);!1!==e.switcher[0].checked?e.switcher[0].checked=!1:!1!==e.switcher[1].checked&&(e.switcher[1].checked=!1),e.body.classList.remove("darkmode"),e.footer.classList.remove("darkmode-footer"),localStorage.removeItem("darkMode")}document.querySelector(".toggle-mode").addEventListener("submit",(function(e){try{e.preventDefault()}catch(e){console.log(e)}}));let r=[];const c=document.querySelector(".js-haveread"),i=document.querySelector(".accordion-list");function s(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){console.log(e)}}i.addEventListener("click",(function(e){if(!e.target.hasAttribute("data-info"))return;const n=function(e){try{return JSON.parse(e)}catch(e){console.log(e)}}(e.target.dataset.favorite),o=t("FAVORITES");if(e.target.classList.contains("js-favorites")){if(e.target.textContent="Add to favorites",e.target.classList.remove("js-favorites"),!o)return;const t=o.find(((e,t)=>{if(e.link===n.link)return t}));return o.splice(t,1),0===o.length?void localStorage.removeItem("FAVORITES"):void s("FAVORITES",o)}if(e.target.textContent="Remove from favorites",e.target.classList.add("js-favorites"),o){if(o.some((e=>e.link===n.link)))return;r=[...o]}r.push(n),s("FAVORITES",r),r=[]})),function(e){const n=t(e);if(!n||0===n.length)return void(c.innerHTML='<div class="no-found">\n  <h1 class="no-found__text">We haven\'t found news from this category</h1>\n  <div class="no-found__image"></div>\n  </div>');o=n,o.forEach((e=>{const n=`<li class="accordion-list_item">\n                <div class="accordion-title_wrapper">\n                    <p class="accordion-list_title">\n                        ${e.whenRead}\n                    </p>\n                    <div class="accordion-arrow__wraper">\n                        <svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M1.7625 9L-3.18545e-07 7.28745L7.5 3.27835e-07L15 7.28745L13.2375 9L7.5 3.43725L1.7625 9Z" fill="#111321"/>\n                        </svg>\n                    </div>\n                </div>\n                <div class="accordion-list_panel"></div>\n            </li>`;i.insertAdjacentHTML("beforeend",n),document.querySelector(".accordion-list_panel").innerHTML=e.newsArray.map((e=>{const{title:n,category:o,date:a,link:r,description:c,imageURL:i}=e,s=JSON.stringify(e);let d=function(e,t){if(e&&0!==e.length)return e.some((e=>e.link===t))?{class:"js-favorites",addRemove:"Remove from favorites"}:{class:"zaglushka",addRemove:"Add to favourites"}}(t("FAVORITES"),r);return d||(d={class:"zaglushka",addRemove:"Add to favourites"}),`<li class="markup-unit markup-unit__read" name="card">\n    <p class="markup-unit__section">${o}</p>\n    \n    <img \n        class="markup-unit__card-image" \n        src="${i}" \n        alt="placeholder"\n        />\n    <button \n        class="markup-unit__add-favorite js-fbutton ${d.class}" \n        type="button" \n        data-info\n        data-favorite='${s}'\n        data-id='${r}'\n      >\n      <p \n        class="markup-unit__favorite-text js-fbutton"\n        data-favorite='${s}'\n        style="pointer-events: none;"\n      >\n          ${d.addRemove}\n      </p>\n      <svg \n          data-favorite='${s}'  \n          class="markup-unit__favorite-icon markup-unit__favorite-icon--active js-fbutton" \n          width="15" \n          height="15" \n          viewBox="0 0 37 32"\n          style="pointer-events: none;"\n        >\n        <path d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"></path>\n      </svg>\n    </button>\n    <a class="markup-unit__global-link"\n      href="${r}" \n      name="read_more"\n      target="_blank"\n      data-favorite='${s}'\n    >\n    <div class="markup-unit__details">\n      <div class="markup-unit__subdetails">\n       <h2 class="markup-unit__card-header" name="card_header">\n        ${n}\n    </h2>\n    <p class="markup-unit__card-text" name="card_text">\n        ${c}\n    </p>\n        <div class="markup-unit__card-footer">\n          <p class="markup-unit__card-date">${a}</p>\n          <p \n            class="markup-unit__read-more" \n          >\n            Read more\n          </p>\n        </div>\n      </div>\n    </div>\n  </a>\n    </li>`})).join(" ")}));var o}("HAVE_READ");
//# sourceMappingURL=read.d7b1def6.js.map
