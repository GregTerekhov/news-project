!function(){var e,t,n,r,o,a={READ_URL_KEY:"READ_URL",FAVORITES_KEY:"FAVORITES",bodyContainerEl:document.querySelector(".js-body-container"),switcher:document.querySelectorAll(".toggle-mode__checkbox"),switchSlider:document.querySelectorAll(".toggle-mode__slider"),body:document.querySelector("body"),footer:document.querySelector(".footer"),darkText:document.querySelectorAll(".toggle-mode__dark"),lightText:document.querySelectorAll(".toggle-mode__light"),articles:document.querySelector(".articles"),categories:document.querySelector(".categories"),date:document.querySelector("#input-picker")};function c(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){console.log(e)}}e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu"),r=document.querySelector(".toggle-mode"),o=function(){var n="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!n),e.classList.toggle("is-open"),document.body.classList.toggle("_lock"),r.classList.contains("mobile")?r.classList.remove("mobile"):r.classList.contains("mobile")||r.classList.add("mobile")},t.addEventListener("click",o),n.addEventListener("click",o),window.matchMedia("(min-width: 768px)").addEventListener("change",(function(n){n.matches&&(document.body.classList.remove("_lock"),e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1))}));var i=localStorage.getItem("darkMode");!function(){if(i){for(var e=0;e<a.switcher.length;e+=1)a.switcher[e].checked=!0;a.footer.classList.add("darkmode-footer")}}();for(var s=0;s<a.switcher.length;s+=1)a.switcher[s].addEventListener("click",l),a.switcher[s].addEventListener("click",d,{once:!0});function d(){a.body.style.transition="1s"}function l(){if(!(i=localStorage.getItem("darkMode")))return!0!==a.switcher[0].checked?a.switcher[0].checked=!0:!0!==a.switcher[1].checked&&(a.switcher[1].checked=!0),a.body.classList.add("darkmode"),a.footer.classList.add("darkmode-footer"),void localStorage.setItem("darkMode",!0);!1!==a.switcher[0].checked?a.switcher[0].checked=!1:!1!==a.switcher[1].checked&&(a.switcher[1].checked=!1),a.body.classList.remove("darkmode"),a.footer.classList.remove("darkmode-footer"),localStorage.removeItem("darkMode")}document.querySelector(".toggle-mode").addEventListener("submit",(function(e){try{e.preventDefault()}catch(e){console.log(e)}}));var u="HAVE_READ",m="READ_URL",f="FAVORITES",h=c(m),v=document.querySelector(".js-articles-favourites");function g(e){e.remove()}function p(e){return String(e).padStart(2,"0")}function c(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){console.log(e)}}function k(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){console.log(e)}}v.addEventListener("click",(function(e){if(!e.target.hasAttribute("data-info"))return;var t=e.target.closest(".markup-unit"),n=e.target.dataset.id,r=c(f);if(!r)return;var o=r.find((function(e,t){if(e.link===n)return t}));if(r.splice(o,1),0===r.length)return localStorage.removeItem("FAVORITES"),void g(t);k(f,r),g(t)})),function(e){var t=c(e);if(!t||0===t.length)return void(v.innerHTML='<div class="no-found">\n  <h1 class="no-found__text">We haven\'t found news from this category</h1>\n  <div class="no-found__image"></div>\n  </div>');n=t,r=n.map((function(e){var t=e.title,n=e.category,r=e.date,o=e.link,a=e.description,i=e.imageURL,s=JSON.stringify(e),d="display: none;",l=c(m);return(d=function(e,t){if(e&&0!==e.length)return e.some((function(e){return e===t}))?"display: flex;":"display: none;"}(l,o))||(d="display: none;"),'<li class="markup-unit markup-unit__read" name="card">\n    <p class="markup-unit__section">'.concat(n,"</p>\n      ").concat((null==l?void 0:l.find((function(e){return e===o})))?'<p class="markup-unit__already-read" style=\''.concat(d,'\'>Already read\n      <svg class="markup-unit__icon-check" width="18" height="18" viewBox="0 0 37 32">\n        <path stroke="#00DD73" stroke-linejoin="miter" stroke-linecap="square" stroke-miterlimit="4" stroke-width="2.2857" d="M28.779 6.389c-0.288 0.009-0.546 0.131-0.732 0.323l-16.313 16.313-6.713-6.713c-0.195-0.209-0.473-0.339-0.78-0.339-0.589 0-1.067 0.478-1.067 1.067 0 0.308 0.13 0.585 0.339 0.78l0.001 0.001 7.467 7.467c0.193 0.193 0.459 0.312 0.754 0.312s0.561-0.119 0.754-0.312v0l17.067-17.067c0.199-0.194 0.323-0.465 0.323-0.765 0-0.589-0.478-1.067-1.067-1.067-0.011 0-0.022 0-0.033 0l0.002-0z"></path>\n      </svg>\n      </p>'):"",'\n    <img \n        class="markup-unit__card-image" \n        src="').concat(i,'" \n        alt="placeholder"\n        />\n    <button \n        class="markup-unit__add-favorite js-fbutton js-favorites" \n        type="button" \n        data-info\n        data-favorite=\'').concat(s,"'\n        data-id='").concat(o,"'\n      >\n      <p \n        class=\"markup-unit__favorite-text js-fbutton\"\n        data-favorite='").concat(s,"'\n        style=\"pointer-events: none;\"\n      >\n          Remove from favourites\n      </p>\n      <svg \n          data-favorite='").concat(s,'\'  \n          class="markup-unit__favorite-icon markup-unit__favorite-icon--active js-fbutton" \n          width="15" \n          height="15" \n          viewBox="0 0 37 32"\n          style="pointer-events: none;"\n        >\n        <path style="stroke: var(--color1, #4440f7)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="4" stroke-width="2.2857" d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"></path>\n      </svg>\n    </button>\n    <a class="markup-unit__global-link"\n      href="').concat(o,'" \n      name="read_more"\n      target="_blank"\n      data-favorite=\'').concat(s,'\'\n    >\n    <div class="markup-unit__details">\n      <div class="markup-unit__subdetails">\n       <h2 class="markup-unit__card-header" name="card_header">\n        ').concat(t,'\n    </h2>\n    <p class="markup-unit__card-text" name="card_text">\n        ').concat(a,'\n    </p>\n        <div class="markup-unit__card-footer">\n          <p class="markup-unit__card-date">').concat(r,'</p>\n          <p \n            class="markup-unit__read-more" \n          >\n            Read more\n          </p>\n        </div>\n      </div>\n    </div>\n  </a>\n    </li>')})).join(" "),v.innerHTML=r;var n,r}(f),v.addEventListener("click",(function(e){if(!e.target.classList.contains("markup-unit__read-more"))return;var t=(o=new Date,a=p(o.getDate()),i=p(o.getMonth()+1),s=p(o.getFullYear()),"".concat(a,"/").concat(i,"/").concat(s)),n=function(e){try{return JSON.parse(e)}catch(e){console.log(e)}}(e.target.dataset.favorite),r=c(u);var o,a,i,s;(function(e,t,n){if(e){return void(e.some((function(e){return e===t}))||(e.push(t),k(n,e)))}k(n,[t])})(h,n.link,m),function(e,t,n,r){if(e){var o=[];if(e.forEach((function(e){var n=e.newsArray.some((function(e){return e.link===t.link}));o.push(n)})),!o.some((function(e){return e}))){if(e.some((function(e){return e.whenRead===n})))return void k(r,e.map((function(e){var r=e.whenRead,o=e.newsArray;if(r===n)return o.push(t),{whenRead:r,newsArray:o}})));var a={whenRead:n,newsArray:[t]};e.push(a),k(r,e)}return}var c=[],i={whenRead:n,newsArray:[t]};c.push(i),k(r,c)}(r,n,t,u)}))}();
//# sourceMappingURL=favourite.af73c60a.js.map
