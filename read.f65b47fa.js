!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o),o.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return r.default(e)};var n,r=(n=o("8NIkP"))&&n.__esModule?n:{default:n}})),o.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}})),o.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),o.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),o.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return r.default(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r.default(e,t)};var n,r=(n=o("8NIkP"))&&n.__esModule?n:{default:n}}));var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){return i.default(e)||c.default(e)||d.default(e)||s.default()};var i=l(o("kMC0W")),c=l(o("7AJDX")),s=l(o("8CtQK")),d=l(o("auk6i"));function l(e){return e&&e.__esModule?e:{default:e}}var u,f,m,v,p,g={READ_URL_KEY:"READ_URL",FAVORITES_KEY:"FAVORITES",bodyContainerEl:document.querySelector(".js-body-container"),switcher:document.querySelectorAll(".toggle-mode__checkbox"),switchSlider:document.querySelectorAll(".toggle-mode__slider"),body:document.querySelector("body"),footer:document.querySelector(".footer"),darkText:document.querySelectorAll(".toggle-mode__dark"),lightText:document.querySelectorAll(".toggle-mode__light"),articles:document.querySelector(".articles"),categories:document.querySelector(".categories"),date:document.querySelector("#input-picker")};function _(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){console.log(e)}}u=document.querySelector(".js-menu-container"),f=document.querySelector(".js-open-menu"),m=document.querySelector(".js-close-menu"),v=document.querySelector(".toggle-mode"),p=function(){var e="true"===f.getAttribute("aria-expanded")||!1;f.setAttribute("aria-expanded",!e),u.classList.toggle("is-open"),document.body.classList.toggle("_lock"),v.classList.contains("mobile")?v.classList.remove("mobile"):v.classList.contains("mobile")||v.classList.add("mobile")},f.addEventListener("click",p),m.addEventListener("click",p),window.matchMedia("(min-width: 768px)").addEventListener("change",(function(e){e.matches&&(document.body.classList.remove("_lock"),u.classList.remove("is-open"),f.setAttribute("aria-expanded",!1))}));var h=localStorage.getItem("darkMode");!function(){if(h){for(var e=0;e<g.switcher.length;e+=1)g.switcher[e].checked=!0;g.footer.classList.add("darkmode-footer")}}();for(var y=0;y<g.switcher.length;y+=1)g.switcher[y].addEventListener("click",b),g.switcher[y].addEventListener("click",k,{once:!0});function k(){g.body.style.transition="1s"}function b(){if(!(h=localStorage.getItem("darkMode")))return!0!==g.switcher[0].checked?g.switcher[0].checked=!0:!0!==g.switcher[1].checked&&(g.switcher[1].checked=!0),g.body.classList.add("darkmode"),g.footer.classList.add("darkmode-footer"),void localStorage.setItem("darkMode",!0);!1!==g.switcher[0].checked?g.switcher[0].checked=!1:!1!==g.switcher[1].checked&&(g.switcher[1].checked=!1),g.body.classList.remove("darkmode"),g.footer.classList.remove("darkmode-footer"),localStorage.removeItem("darkMode")}document.querySelector(".toggle-mode").addEventListener("submit",(function(e){try{e.preventDefault()}catch(e){console.log(e)}}));var w="FAVORITES",S=[],L=document.querySelector(".js-haveread"),x=document.querySelector(".accordion-list");function A(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){console.log(e)}}x.addEventListener("click",(function(t){if(!t.target.hasAttribute("data-info"))return;var n=function(e){try{return JSON.parse(e)}catch(e){console.log(e)}}(t.target.dataset.favorite),r=_(w);if(t.target.classList.contains("js-favorites")){if(t.target.textContent="Add to favorites",t.target.classList.remove("js-favorites"),!r)return;var o=r.find((function(e,t){if(e.link===n.link)return t}));return r.splice(o,1),0===r.length?void localStorage.removeItem("FAVORITES"):void A(w,r)}if(t.target.textContent="Remove from favorites",t.target.classList.add("js-favorites"),r){if(r.some((function(e){return e.link===n.link})))return;S=e(a)(r)}S.push(n),A(w,S),S=[]})),function(e){var t=_(e);if(!t||0===t.length)return void(L.innerHTML='<div class="no-found">\n  <h1 class="no-found__text">We haven\'t found news from this category</h1>\n  <div class="no-found__image"></div>\n  </div>');n=t,n.forEach((function(e){var t='<li class="accordion-list_item">\n                <div class="accordion-title_wrapper">\n                    <p class="accordion-list_title">\n                        '.concat(e.whenRead,'\n                    </p>\n                    <div class="accordion-arrow__wraper">\n                        <svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M1.7625 9L-3.18545e-07 7.28745L7.5 3.27835e-07L15 7.28745L13.2375 9L7.5 3.43725L1.7625 9Z" fill="#111321"/>\n                        </svg>\n                    </div>\n                </div>\n                <div class="accordion-list_panel"></div>\n            </li>');x.insertAdjacentHTML("beforeend",t),document.querySelector(".accordion-list_panel").innerHTML=e.newsArray.map((function(e){var t=e.title,n=e.category,r=e.date,o=e.link,a=e.description,i=e.imageURL,c=JSON.stringify(e),s=function(e,t){if(e&&0!==e.length)return e.some((function(e){return e.link===t}))?{class:"js-favorites",addRemove:"Remove from favorites"}:{class:"zaglushka",addRemove:"Add to favourites"}}(_(w),o);return s||(s={class:"zaglushka",addRemove:"Add to favourites"}),'<li class="markup-unit markup-unit__read" name="card">\n    <p class="markup-unit__section">'.concat(n,'</p>\n    \n    <img \n        class="markup-unit__card-image" \n        src="').concat(i,'" \n        alt="placeholder"\n        />\n    <button \n        class="markup-unit__add-favorite js-fbutton ').concat(s.class,'" \n        type="button" \n        data-info\n        data-favorite=\'').concat(c,"'\n        data-id='").concat(o,"'\n      >\n      <p \n        class=\"markup-unit__favorite-text js-fbutton\"\n        data-favorite='").concat(c,'\'\n        style="pointer-events: none;"\n      >\n          ').concat(s.addRemove,"\n      </p>\n      <svg \n          data-favorite='").concat(c,'\'  \n          class="markup-unit__favorite-icon markup-unit__favorite-icon--active js-fbutton" \n          width="15" \n          height="15" \n          viewBox="0 0 37 32"\n          style="pointer-events: none;"\n        >\n        <path d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"></path>\n      </svg>\n    </button>\n    <a class="markup-unit__global-link"\n      href="').concat(o,'" \n      name="read_more"\n      target="_blank"\n      data-favorite=\'').concat(c,'\'\n    >\n    <div class="markup-unit__details">\n      <div class="markup-unit__subdetails">\n       <h2 class="markup-unit__card-header" name="card_header">\n        ').concat(t,'\n    </h2>\n    <p class="markup-unit__card-text" name="card_text">\n        ').concat(a,'\n    </p>\n        <div class="markup-unit__card-footer">\n          <p class="markup-unit__card-date">').concat(r,'</p>\n          <p \n            class="markup-unit__read-more" \n          >\n            Read more\n          </p>\n        </div>\n      </div>\n    </div>\n  </a>\n    </li>')})).join(" ")}));var n}("HAVE_READ")}();
//# sourceMappingURL=read.f65b47fa.js.map
